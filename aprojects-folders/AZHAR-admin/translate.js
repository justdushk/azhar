// Переводы
const translations = {
  "ru": {
    "title": "КГП на ПХВ \"Областной реабилитационный центр\"",
    "nav": {
      "about": "О центре",
      "services": "Услуги",
      "values": "Ценности",
      "contact": "Контакты"
    },
    "hero": {
      "title": "Профессиональная реабилитация для детей",
      "description": "Комплексная медицинская помощь, современное оборудование и квалифицированные специалисты для восстановления здоровья вашего ребёнка",
      "btnPrimary": "Записаться на приём",
      "btnSecondary": "Узнать больше",
      "card1": "Посещений в смену",
      "card2": "Лет опыта",
      "card3": "Пациентов ежегодно"
    },
    "about": {
      "badge": "О центре",
      "title": "Забота о здоровье детей с 1998 года",
      "description": "Мы обеспечиваем доступную и качественную медицинскую помощь для восстановления и развития детей Павлодарской области",
      "mission": {
        "title": "Наша миссия",
        "text": "Оказание доступной, качественной и эффективной медицинской помощи по восстановительному лечению и реабилитации детей"
      },
      "goal": {
        "title": "Наша цель",
        "text": "Развитие, совершенствование и улучшение качества оказания восстановительного лечения и медицинской реабилитации"
      },
      "approach": {
        "title": "Комплексный подход",
        "text": "Мультидисциплинарная бригада специалистов: невролог, врач ЛФК, ортопед-травматолог, физиотерапевт, психолог, логопед"
      }
    },
    "services": {
      "badge": "Услуги",
      "title": "Полный спектр медицинских услуг",
      "description": "Современные методики восстановительного лечения и реабилитации для детей всех возрастов",
      "items": {
        "s1": {
          "title": "Консультации специалистов",
          "text": "Физиотерапевт, врач ЛФК, невролог, травматолог-ортопед для комплексной диагностики и лечения"
        },
        "s2": {
          "title": "Физиотерапия",
          "text": "Более 20 видов: лазеротерапия, магнитотерапия, электротерапия, светотерапия, теплотерапия, ультразвуковая терапия"
        },
        "s3": {
          "title": "Массаж и ЛФК",
          "text": "Все виды массажа, корригирующая и дыхательная гимнастика, упражнения на фитболах"
        },
        "s4": {
          "title": "Гидрокинезотерапия",
          "text": "Водные процедуры для эффективного восстановления двигательных функций организма"
        },
        "s5": {
          "title": "Галокамера",
          "text": "Соляная шахта для укрепления иммунитета и органов дыхания — бесплатно для всех пациентов"
        },
        "s6": {
          "title": "Логопедия и психология",
          "text": "Восстановительная терапия речи и психологическая коррекция развития ребёнка"
        },
        "s7": {
          "title": "Стопотерапия",
          "text": "Специализированные методики для коррекции и укрепления стопы"
        },
        "s8": {
          "title": "Реабилитация детей с ДЦП",
          "text": "Особое внимание детям до 5 лет с различными двигательными нарушениями"
        },
        "s9": {
          "title": "Современное оборудование",
          "text": "Новейшие тренажёры, компенсационная техника и инновационные методики лечения"
        }
      }
    },
    "values": {
      "badge": "Ценности",
      "title": "Принципы нашей работы",
      "description": "Мы придерживаемся высоких стандартов в заботе о здоровье каждого ребёнка",
      "items": {
        "v1": {
          "title": "Уважение",
          "text": "К каждому пациенту и коллеге"
        },
        "v2": {
          "title": "Безопасность",
          "text": "Здоровье превыше всего"
        },
        "v3": {
          "title": "Ответственность",
          "text": "За результат каждого лечения"
        },
        "v4": {
          "title": "Коллегиальность",
          "text": "Командная работа специалистов"
        },
        "v5": {
          "title": "Прозрачность",
          "text": "Открытость всех процессов"
        },
        "v6": {
          "title": "Профессионализм",
          "text": "Высокая квалификация команды"
        }
      }
    },
    "contact": {
      "title": "Свяжитесь с нами",
      "description": "Запишитесь на приём или получите консультацию. Мы принимаем детей от 1 года до 18 лет по направлению врача и ОСМС.",
      "address": {
        "title": "Адрес",
        "text": "г. Павлодар, улица Лермонтова, 59"
      },
      "osms": {
        "title": "Приём по ОСМС",
        "text": "По направлению специалистов первичной медико-санитарной помощи"
      },
      "registry": {
        "title": "Регистратура"
      },
      "hotline": {
        "title": "Телефон доверия"
      },
      "schedule": {
        "title": "Режим работы",
        "text": "Пн-Пт: 8:00 - 18:00"
      }
    },
    "footer": {
  "title": "КГП на ПХВ \"Областной реабилитационный центр\"",
  "subtitle": "Здоровье и развитие детей — наш главный приоритет",
  "copyright": "© 2025 КГП на ПХВ \"Областной реабилитационный центр\". Все права защищены."
}
  },
  "kz": {
    "title": "ШЖҚ КММ \"Облыстық оңалту орталығы\"",
    "nav": {
      "about": "Орталық туралы",
      "services": "Қызметтер",
      "values": "Құндылықтар",
      "contact": "Байланыс"
    },
    "hero": {
      "title": "Балаларға арналған кәсіби оңалту",
      "description": "Балаңыздың денсаулығын қалпына келтіру үшін кешенді медициналық көмек, заманауи жабдықтар және білікті мамандар",
      "btnPrimary": "Қабылдауға жазылу",
      "btnSecondary": "Толығырақ білу",
      "card1": "Ауысымдағы келушілер",
      "card2": "Жылдық тәжірибе",
      "card3": "Жыл сайын науқастар"
    },
    "about": {
      "badge": "Орталық туралы",
      "title": "1998 жылдан бастап балалар денсаулығына қамқорлық",
      "description": "Біз Павлодар облысының балаларын қалпына келтіру және дамыту үшін қолжетімді және сапалы медициналық көмек көрсетеміз",
      "mission": {
        "title": "Біздің миссиямыз",
        "text": "Балаларды қалпына келтіру емі мен оңалту бойынша қолжетімді, сапалы және тиімді медициналық көмек көрсету"
      },
      "goal": {
        "title": "Біздің мақсатымыз",
        "text": "Қалпына келтіру емі мен медициналық оңалту сапасын дамыту, жетілдіру және жақсарту"
      },
      "approach": {
        "title": "Кешенді тәсіл",
        "text": "Мамандардың мультидисциплинарлық бригадасы: невролог, ЕФМ дәрігері, ортопед-травматолог, физиотерапевт, психолог, логопед"
      }
    },
    "services": {
      "badge": "Қызметтер",
      "title": "Медициналық қызметтердің толық спектрі",
      "description": "Барлық жастағы балаларға арналған қалпына келтіру емі мен оңалтудың заманауи әдістері",
      "items": {
        "s1": {
          "title": "Мамандардың консультациялары",
          "text": "Кешенді диагностика және ем үшін физиотерапевт, ЕФМ дәрігері, невролог, травматолог-ортопед"
        },
        "s2": {
          "title": "Физиотерапия",
          "text": "20-дан астам түрі: лазеротерапия, магнитотерапия, электротерапия, жарықтерапия, жылутерапия, ультрадыбыстық терапия"
        },
        "s3": {
          "title": "Массаж және ЕФМ",
          "text": "Массаждың барлық түрлері, түзету және тыныс алу гимнастикасы, фитболдардағы жаттығулар"
        },
        "s4": {
          "title": "Гидрокинезотерапия",
          "text": "Организмнің қозғалыс функцияларын тиімді қалпына келтіру үшін су процедуралары"
        },
        "s5": {
          "title": "Галокамера",
          "text": "Иммунитет пен тыныс алу органдарын нығайту үшін тұз шахтасы — барлық науқастарға тегін"
        },
        "s6": {
          "title": "Логопедия және психология",
          "text": "Сөйлеу қалпына келтіру терапиясы және баланың дамуын психологиялық түзету"
        },
        "s7": {
          "title": "Стопотерапия",
          "text": "Табанды түзету және нығайту үшін мамандандырылған әдістер"
        },
        "s8": {
          "title": "ДЦП балаларын оңалту",
          "text": "Әртүрлі қозғалыс бұзылыстары бар 5 жасқа дейінгі балаларға ерекше назар"
        },
        "s9": {
          "title": "Заманауи жабдық",
          "text": "Жаңа тренажерлер, компенсациялық техника және емдеудің инновациялық әдістері"
        }
      }
    },
    "values": {
      "badge": "Құндылықтар",
      "title": "Жұмысымыздың қағидалары",
      "description": "Біз әр баланың денсаулығына қамқорлықта жоғары стандарттарды ұстанамыз",
      "items": {
        "v1": {
          "title": "Құрмет",
          "text": "Әр науқас пен әріптеске"
        },
        "v2": {
          "title": "Қауіпсіздік",
          "text": "Денсаулық бәрінен биік"
        },
        "v3": {
          "title": "Жауапкершілік",
          "text": "Әр емнің нәтижесі үшін"
        },
        "v4": {
          "title": "Ұжымдық",
          "text": "Мамандардың командалық жұмысы"
        },
        "v5": {
          "title": "Ашықтық",
          "text": "Барлық процестердің ашықтығы"
        },
        "v6": {
          "title": "Кәсібілік",
          "text": "Команданың жоғары біліктілігі"
        }
      }
    },
    "contact": {
      "title": "Бізбен байланысыңыз",
      "description": "Қабылдауға жазылыңыз немесе консультация алыңыз. Біз 1 жастан 18 жасқа дейінгі балаларды дәрігердің жолдамасы және МӘМС бойынша қабылдаймыз.",
      "address": {
        "title": "Мекенжайы",
        "text": "Павлодар қ., Лермонтов көшесі, 59"
      },
      "osms": {
        "title": "МӘМС бойынша қабылдау",
        "text": "Бастапқы медициналық-санитариялық көмек мамандарының жолдамасы бойынша"
      },
      "registry": {
        "title": "Тіркеу бөлімі"
      },
      "hotline": {
        "title": "Сенім телефоны"
      },
      "schedule": {
        "title": "Жұмыс режимі",
        "text": "Дс-Жм: 8:00 - 18:00"
      }
    },
    "footer": {
  "title": "ШЖҚ КММ \"Облыстық оңалту орталығы\"",
  "subtitle": "Балалардың денсаулығы мен дамуы — біздің басты басымдығымыз",
  "copyright": "© 2025 ШЖҚ КММ \"Облыстық оңалту орталығы\". Барлық құқықтар қорғалған."
}
  }
};

// Текущий язык
let currentLang = localStorage.getItem('language') || 'ru';

// Функция перевода
function translatePage(lang) {
  console.log('Translating to:', lang);
  currentLang = lang;
  localStorage.setItem('language', lang);
  
  const t = translations[lang];
  
  // Title
  const titleEl = document.querySelector('title');
  const logoSpan = document.querySelector('.logo span');
  if (titleEl) titleEl.textContent = t.title;
  if (logoSpan) logoSpan.textContent = t.title;
  
  // Navigation
  const navLinks = document.querySelectorAll('#mainNav a');
  if (navLinks[0]) navLinks[0].textContent = t.nav.about;
  if (navLinks[1]) navLinks[1].textContent = t.nav.services;
  if (navLinks[2]) navLinks[2].textContent = t.nav.values;
  if (navLinks[3]) navLinks[3].textContent = t.nav.contact;
  
  // Hero
  const heroTitle = document.querySelector('.hero h1');
  const heroDesc = document.querySelector('.hero > .hero-container > .hero-content > p');
  const btnPrimary = document.querySelector('.btn-primary');
  const btnOutline = document.querySelector('.btn-outline');
  if (heroTitle) heroTitle.textContent = t.hero.title;
  if (heroDesc) heroDesc.textContent = t.hero.description;
  if (btnPrimary) btnPrimary.textContent = t.hero.btnPrimary;
  if (btnOutline) btnOutline.textContent = t.hero.btnSecondary;
  
  const card1 = document.querySelector('.card-1 p');
  const card2 = document.querySelector('.card-2 p');
  const card3 = document.querySelector('.card-3 p');
  if (card1) card1.textContent = t.hero.card1;
  if (card2) card2.textContent = t.hero.card2;
  if (card3) card3.textContent = t.hero.card3;
  
  // About
  const aboutBadge = document.querySelector('#about .section-badge');
  const aboutTitle = document.querySelector('#about .section-title');
  const aboutDesc = document.querySelector('#about .section-description');
  if (aboutBadge) aboutBadge.textContent = t.about.badge;
  if (aboutTitle) aboutTitle.textContent = t.about.title;
  if (aboutDesc) aboutDesc.textContent = t.about.description;
  
  const features = document.querySelectorAll('.feature');
  if (features[0]) {
    const h3 = features[0].querySelector('h3');
    const p = features[0].querySelector('p');
    if (h3) h3.textContent = t.about.mission.title;
    if (p) p.textContent = t.about.mission.text;
  }
  if (features[1]) {
    const h3 = features[1].querySelector('h3');
    const p = features[1].querySelector('p');
    if (h3) h3.textContent = t.about.goal.title;
    if (p) p.textContent = t.about.goal.text;
  }
  if (features[2]) {
    const h3 = features[2].querySelector('h3');
    const p = features[2].querySelector('p');
    if (h3) h3.textContent = t.about.approach.title;
    if (p) p.textContent = t.about.approach.text;
  }
  
  // Services
  const servicesBadge = document.querySelector('#services .section-badge');
  const servicesTitle = document.querySelector('#services .section-title');
  const servicesDesc = document.querySelector('#services .section-description');
  if (servicesBadge) servicesBadge.textContent = t.services.badge;
  if (servicesTitle) servicesTitle.textContent = t.services.title;
  if (servicesDesc) servicesDesc.textContent = t.services.description;
  
  const serviceCards = document.querySelectorAll('.service-card');
  serviceCards.forEach((card, i) => {
    const key = 's' + (i + 1);
    const h3 = card.querySelector('h3');
    const p = card.querySelector('p');
    if (h3) h3.textContent = t.services.items[key].title;
    if (p) p.textContent = t.services.items[key].text;
  });
  
  // Values
  const valuesBadge = document.querySelector('#values .section-badge');
  const valuesTitle = document.querySelector('#values .section-title');
  const valuesDesc = document.querySelector('#values .section-description');
  if (valuesBadge) valuesBadge.textContent = t.values.badge;
  if (valuesTitle) valuesTitle.textContent = t.values.title;
  if (valuesDesc) valuesDesc.textContent = t.values.description;
  
  const valueItems = document.querySelectorAll('.value-item');
  valueItems.forEach((item, i) => {
    const key = 'v' + (i + 1);
    const h3 = item.querySelector('h3');
    const p = item.querySelector('p');
    if (h3) h3.textContent = t.values.items[key].title;
    if (p) p.textContent = t.values.items[key].text;
  });
  
  // Contact
  const contactTitle = document.querySelector('#contact h2');
  const contactDesc = document.querySelector('.contact-info > p');
  if (contactTitle) contactTitle.textContent = t.contact.title;
  if (contactDesc) contactDesc.textContent = t.contact.description;
  
  const contactItems = document.querySelectorAll('.contact-item');
  if (contactItems[0]) {
    const h4 = contactItems[0].querySelector('h4');
    const p = contactItems[0].querySelector('p');
    if (h4) h4.textContent = t.contact.address.title;
    if (p) p.textContent = t.contact.address.text;
  }
  if (contactItems[1]) {
    const h4 = contactItems[1].querySelector('h4');
    const p = contactItems[1].querySelector('p');
    if (h4) h4.textContent = t.contact.osms.title;
    if (p) p.textContent = t.contact.osms.text;
  }
  if (contactItems[2]) {
    const h4 = contactItems[2].querySelector('h4');
    if (h4) h4.textContent = t.contact.registry.title;
  }
  if (contactItems[3]) {
    const h4 = contactItems[3].querySelector('h4');
    if (h4) h4.textContent = t.contact.hotline.title;
  }
  if (contactItems[4]) {
    const h4 = contactItems[4].querySelector('h4');
    const p = contactItems[4].querySelector('p');
    if (h4) h4.textContent = t.contact.schedule.title;
    if (p) p.textContent = t.contact.schedule.text;
  }
  
// Footer
const footerTitle = document.querySelector('footer .footer-title');
const footerSubtitle = document.querySelector('footer .footer-subtitle');
const footerCopyright = document.querySelector('footer .footer-copyright p');

if (footerTitle) footerTitle.textContent = t.footer.title;
if (footerSubtitle) footerSubtitle.textContent = t.footer.subtitle;
if (footerCopyright) footerCopyright.textContent = t.footer.copyright;
  
  // Обновляем активную кнопку
  updateActiveButton(lang);
}

// Обновление активной кнопки
function updateActiveButton(lang) {
  const ruBtn = document.getElementById('langRu');
  const kzBtn = document.getElementById('langKz');
  
  if (ruBtn && kzBtn) {
    if (lang === 'ru') {
      ruBtn.classList.add('active');
      kzBtn.classList.remove('active');
    } else {
      kzBtn.classList.add('active');
      ruBtn.classList.remove('active');
    }
  }
}

// Функция переключения языка
function switchLanguage(lang) {
  console.log('Switch language called:', lang);
  translatePage(lang);
}

// Инициализация при загрузке страницы
if (document.readyState === 'loading') {
  document.addEventListener('DOMContentLoaded', init);
} else {
  init();
}

function init() {
  console.log('Initializing language switcher...');
  
  // Применяем сохраненный язык
  translatePage(currentLang);
  
  // Находим кнопки по ID
  const ruBtn = document.getElementById('langRu');
  const kzBtn = document.getElementById('langKz');
  
  console.log('RU button:', ruBtn);
  console.log('KZ button:', kzBtn);
  
  if (ruBtn) {
    ruBtn.onclick = function(e) {
      e.preventDefault();
      e.stopPropagation();
      console.log('RU clicked');
      switchLanguage('ru');
      return false;
    };
  }
  
  if (kzBtn) {
    kzBtn.onclick = function(e) {
      e.preventDefault();
      e.stopPropagation();
      console.log('KZ clicked');
      switchLanguage('kz');
      return false;
    };
  }
  
  // Дополнительный способ через addEventListener
  if (ruBtn) {
    ruBtn.addEventListener('click', function(e) {
      e.preventDefault();
      e.stopPropagation();
      console.log('RU clicked (addEventListener)');
      switchLanguage('ru');
    }, true);
  }
  
  if (kzBtn) {
    kzBtn.addEventListener('click', function(e) {
      e.preventDefault();
      e.stopPropagation();
      console.log('KZ clicked (addEventListener)');
      switchLanguage('kz');
    }, true);
  }
}

// Глобальная функция для вызова из HTML
window.switchLanguage = switchLanguage;